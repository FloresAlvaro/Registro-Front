#!/bin/sh
# Validar formato de mensaje de commit
# Formatos v√°lidos: feat:, fix:, docs:, style:, refactor:, test:, chore:

commit_regex='^(feat|fix|docs|style|refactor|test|chore|build|ci|perf|revert)(\(.+\))?: .{1,50}'

if ! grep -qE "$commit_regex" "$1"; then
  echo "‚ùå Mensaje de commit inv√°lido!"
  echo ""
  echo "üìù Formato requerido: tipo(scope): descripci√≥n"
  echo ""
  echo "Tipos v√°lidos:"
  echo "  feat:     Nueva funcionalidad"
  echo "  fix:      Correcci√≥n de bug"
  echo "  docs:     Documentaci√≥n"
  echo "  style:    Formato/estilo de c√≥digo"
  echo "  refactor: Refactorizaci√≥n"
  echo "  test:     Pruebas"
  echo "  chore:    Tareas de mantenimiento"
  echo "  build:    Sistema de build"
  echo "  ci:       Integraci√≥n continua"
  echo ""
  echo "Ejemplos:"
  echo "  feat: add user authentication"
  echo "  fix(auth): resolve login bug"
  echo "  docs: update README"
  echo ""
  exit 1
fi